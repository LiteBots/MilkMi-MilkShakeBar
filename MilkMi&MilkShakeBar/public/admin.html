<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MilkMi Admin Panel</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    :root {
      /* Palette - Premium Flat */
      --primary: #FF6600;
      --primary-glow: rgba(255, 102, 0, 0.3);
      --bg-body: #F2F4F6;
      --bg-surface: #FFFFFF;
      --text-main: #111827;
      --text-sub: #6B7280;
      --border: #E5E7EB;
      
      --sidebar-width: 280px;
      --radius-l: 24px;
      --radius-m: 16px;
      --radius-s: 8px;
      
      --status-ok: #10B981;
      --status-warn: #F59E0B;
      --status-err: #EF4444;
      --status-info: #3B82F6;
    }

    body.dark-mode {
      --bg-body: #0F0F0F;
      --bg-surface: #1C1C1E;
      --text-main: #FFFFFF;
      --text-sub: #9CA3AF;
      --border: #2D2D30;
      --primary-glow: rgba(255, 102, 0, 0.5);
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
      color: var(--text-main);
      background-color: var(--bg-body);
      transition: background 0.3s, color 0.3s;
      min-height: 100vh;
      display: flex;
    }

    /* --- SIDEBAR --- */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--bg-surface);
      border-right: 1px solid var(--border);
      height: 100vh;
      position: fixed;
      top: 0; left: 0;
      padding: 30px 20px;
      overflow-y: auto;
      display: flex; flex-direction: column;
      z-index: 100;
    }

    .brand {
      font-size: 1.8rem; font-weight: 800; letter-spacing: -1px; margin-bottom: 40px; padding-left: 10px;
    }
    .brand span { color: var(--primary); }
    .brand small { 
      font-size: 0.7rem; color: var(--text-sub); 
      font-weight: 600; text-transform: uppercase; letter-spacing: 2px;
      display: block; margin-top: 5px; 
    }

    .nav-category {
      font-size: 0.75rem; text-transform: uppercase; color: var(--text-sub);
      font-weight: 700; letter-spacing: 1px; margin-bottom: 15px; margin-top: 20px; padding-left: 10px;
    }

    .nav-item {
      display: flex; align-items: center; gap: 12px;
      padding: 12px 16px; border-radius: var(--radius-m);
      color: var(--text-sub); text-decoration: none;
      font-weight: 600; font-size: 0.9rem; transition: 0.2s;
      margin-bottom: 5px; cursor: pointer;
    }
    .nav-item:hover { background: var(--bg-body); color: var(--text-main); }
    .nav-item.active { background: rgba(255, 102, 0, 0.1); color: var(--primary); }
    .nav-item i { width: 20px; text-align: center; }

    /* --- MAIN CONTENT --- */
    .main-content { margin-left: var(--sidebar-width); flex: 1; padding: 30px 40px; }

    /* Top Bar */
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; }
    .welcome-text h1 { font-size: 1.8rem; font-weight: 800; }
    .welcome-text p { color: var(--text-sub); }
    .system-status {
      display: flex; align-items: center; gap: 20px;
      background: var(--bg-surface); padding: 10px 20px;
      border-radius: 50px; border: 1px solid var(--border);
      font-weight: 600; font-size: 0.9rem;
    }

    .api-indicator { display: flex; align-items: center; gap: 8px; }
    .status-dot {
      width: 10px; height: 10px; border-radius: 50%;
      background: var(--text-sub); transition: 0.3s;
    }
    .status-dot.ok { background: var(--status-ok); box-shadow: 0 0 10px rgba(16, 185, 129, 0.4); animation: pulseGreen 2s infinite; }
    .status-dot.error { background: var(--status-err); box-shadow: 0 0 10px rgba(239, 68, 68, 0.4); animation: pulseRed 2s infinite; }

    /* --- COMMON COMPONENTS --- */
    .section-header {
      margin: 0 0 20px; font-size: 1.3rem; font-weight: 700;
      display: flex; align-items: center; gap: 10px;
    }
    .section-header::before {
      content: ''; display: block; width: 4px; height: 24px;
      background: var(--primary); border-radius: 4px;
    }

    /* Cards */
    .card {
      background: var(--bg-surface); border: 1px solid var(--border);
      border-radius: var(--radius-l); padding: 24px; margin-bottom: 20px;
    }

    /* Tables */
    .table-container { overflow-x: auto; }
    .data-table { width: 100%; border-collapse: collapse; min-width: 600px; }
    .data-table th { text-align: left; padding: 15px; color: var(--text-sub); font-size: 0.85rem; text-transform: uppercase; border-bottom: 1px solid var(--border); }
    .data-table td { padding: 15px; border-bottom: 1px solid var(--border); font-size: 0.95rem; vertical-align: middle; }
    .data-table tr:last-child td { border-bottom: none; }
    
    .user-info { display: flex; align-items: center; gap: 10px; }
    .avatar { width: 36px; height: 36px; background: var(--bg-body); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; color: var(--primary); }
    
    /* Badges */
    .badge { padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: 700; text-transform: uppercase; }
    .badge.green { background: rgba(16, 185, 129, 0.1); color: var(--status-ok); }
    .badge.orange { background: rgba(245, 158, 11, 0.1); color: var(--status-warn); }
    .badge.red { background: rgba(239, 68, 68, 0.1); color: var(--status-err); }
    .badge.blue { background: rgba(59, 130, 246, 0.1); color: var(--status-info); }

    /* Forms */
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.9rem; }
    .form-control {
      width: 100%; padding: 12px; border-radius: var(--radius-m);
      border: 1px solid var(--border); background: var(--bg-body);
      color: var(--text-main); font-family: inherit; font-size: 1rem;
    }
    .btn {
      padding: 12px 24px; border-radius: var(--radius-m); border: none;
      font-weight: 700; cursor: pointer; display: inline-flex; align-items: center; gap: 8px; transition: 0.2s;
    }
    .btn-primary { background: var(--primary); color: white; }
    .btn-primary:hover { opacity: 0.9; transform: translateY(-2px); }
    .btn-outline { border: 1px solid var(--border); background: transparent; color: var(--text-main); }
    
    /* Grid for Menu/Stats */
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; }
    .stat-card {
      background: var(--bg-surface); border: 1px solid var(--border); border-radius: var(--radius-l);
      padding: 24px; position: relative; overflow: hidden; transition: transform 0.2s;
    }
    .stat-card:hover { transform: translateY(-5px); border-color: var(--primary-glow); }
    .stat-icon { width: 48px; height: 48px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; margin-bottom: 15px; }
    .stat-value { font-size: 2rem; font-weight: 800; margin-bottom: 5px; }
    .stat-label { color: var(--text-sub); font-size: 0.85rem; font-weight: 600; }

    /* Colors for icons */
    .bg-orange { background: rgba(255, 102, 0, 0.1); color: var(--primary); }
    .bg-blue { background: rgba(59, 130, 246, 0.1); color: #3B82F6; }
    .bg-green { background: rgba(16, 185, 129, 0.1); color: #10B981; }
    .bg-purple { background: rgba(139, 92, 246, 0.1); color: #8B5CF6; }
    .bg-red { background: rgba(239, 68, 68, 0.1); color: #EF4444; }

    /* View Management */
    .view-section { display: none; animation: fadeIn 0.3s ease; }
    .view-section.active { display: block; }

    /* Theme Toggle */
    .theme-toggle { position: fixed; bottom: 30px; right: 30px; width: 50px; height: 50px; background: var(--bg-surface); border: 1px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 10px 20px rgba(0,0,0,0.1); z-index: 200; transition: 0.3s; }
    .theme-toggle:hover { transform: scale(1.1); }

    @keyframes fadeIn { from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
    @keyframes pulseGreen { 0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); } 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); } }
    @keyframes pulseRed { 0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); } 70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); } 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); } }
  </style>
</head>
<body>

  <div id="admin-login-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: var(--bg-body); z-index: 99999; display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <div style="background: var(--bg-surface); padding: 40px; border-radius: var(--radius-l); border: 1px solid var(--border); text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.1); max-width: 400px; width: 90%;">
      <h2 style="margin-bottom: 10px; font-weight: 800;">Panel Autoryzacji</h2>
      <p style="color: var(--text-sub); margin-bottom: 30px; font-size: 0.9rem;">Wprowadź 5-cyfrowy kod PIN, aby odblokować panel MilkMi.</p>
      
      <input type="password" id="admin-pin-input" maxlength="5" placeholder="•••••" style="width: 100%; padding: 15px; font-size: 2rem; text-align: center; letter-spacing: 15px; border-radius: var(--radius-m); border: 2px solid var(--border); margin-bottom: 20px; outline: none; transition: border-color 0.3s; background: var(--bg-body); color: var(--text-main);">
      
      <div id="admin-error" style="color: var(--status-err); font-size: 0.85rem; font-weight: 600; margin-bottom: 15px; display: none;">Błędny kod PIN!</div>
      
      <button onclick="verifyAdmin()" style="width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: var(--radius-m); font-weight: 700; cursor: pointer; font-size: 1rem;">Odblokuj panel</button>
    </div>
  </div>

  <script>
    // Skrypt do sprawdzania PINu
    async function verifyAdmin() {
      const pin = document.getElementById('admin-pin-input').value;
      const errorMsg = document.getElementById('admin-error');
      
      if(pin.length !== 5) {
          errorMsg.innerText = "Kod musi mieć 5 cyfr!";
          errorMsg.style.display = 'block';
          return;
      }

      try {
        const response = await fetch('/api/admin/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ pin })
        });
        
        const data = await response.json();
        
        if (data.success) {
            // PIN poprawny - usuwamy blokadę
            const overlay = document.getElementById('admin-login-overlay');
            overlay.style.opacity = '0';
            overlay.style.transition = 'opacity 0.5s ease';
            setTimeout(() => overlay.remove(), 500);
        } else {
            // PIN błędny
            errorMsg.innerText = "Nieprawidłowy kod PIN!";
            errorMsg.style.display = 'block';
            document.getElementById('admin-pin-input').value = '';
        }
      } catch (err) {
        console.error("Błąd połączenia z serwerem API", err);
      }
    }

    // Umożliwia kliknięcie "Enter"
    document.getElementById('admin-pin-input').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') verifyAdmin();
    });
  </script>

  <aside class="sidebar">
    <div class="brand">MilkMi<span>.</span> <small>Admin Panel</small></div>

    <div class="nav-category">MilkMi App</div>
    <div class="nav-item active" onclick="switchView('dashboard', this)"><i class="fas fa-chart-pie"></i><span>Dashboard</span></div>
    <div class="nav-item" onclick="switchView('points', this)"><i class="fas fa-coins"></i><span>Punkty (Milkosy)</span></div>
    <div class="nav-item" onclick="switchView('reservations', this)"><i class="fas fa-calendar-check"></i><span>Rezerwacje</span></div>
    <div class="nav-item" onclick="switchView('orders', this)"><i class="fas fa-shopping-bag"></i><span>Zamów i Odbierz</span></div>
    <div class="nav-item" onclick="switchView('prepaid', this)"><i class="fas fa-wallet"></i><span>Pre-paid</span></div>
    <div class="nav-item" onclick="switchView('users', this)"><i class="fas fa-users"></i><span>Użytkownicy</span></div>
    <div class="nav-item" onclick="switchView('push', this)"><i class="fas fa-bell"></i><span>Powiadomienia Push</span></div>
    <div class="nav-item" onclick="switchView('app-bar', this)"><i class="fas fa-window-maximize"></i><span>Pasek Na Stronie</span></div>

    <div class="nav-category">MilkShakeBar WEB</div>
    <div class="nav-item" onclick="switchView('web-bar', this)"><i class="fas fa-columns"></i><span>Pasek Na Stronie</span></div>
    <div class="nav-item" onclick="switchView('menu', this)"><i class="fas fa-utensils"></i><span>Menu</span></div>
    <div class="nav-item" onclick="switchView('newsletter', this)"><i class="fas fa-envelope-open-text"></i><span>Newsletter</span></div>
    <div class="nav-item" onclick="switchView('team', this)"><i class="fas fa-user-friends"></i><span>Zespół</span></div>

    <div class="nav-category">WorkMi (System)</div>
    <div class="nav-item" onclick="switchView('work-system', this)"><i class="fas fa-server"></i><span>System</span></div>
    <div class="nav-item" onclick="switchView('work-products', this)"><i class="fas fa-boxes"></i><span>Produkty</span></div>
    <div class="nav-item" onclick="switchView('work-time', this)"><i class="fas fa-clock"></i><span>Czas Pracy</span></div>
    <div class="nav-item" onclick="switchView('work-costs', this)"><i class="fas fa-money-bill-wave"></i><span>Koszta Pracowników</span></div>
    
    <div style="flex: 1"></div>
    <div class="nav-item" onclick="switchView('dev', this)" style="color: var(--primary);"><i class="fas fa-code"></i><span>Napisz do Developera</span></div>
  </aside>

  <main class="main-content">
    
    <header class="top-bar">
      <div class="welcome-text">
        <h1 id="page-title">Dashboard</h1>
        <p>Panel zarządzania systemem MilkMi & WorkMi.</p>
      </div>
      <div class="system-status">
        <div class="clock" id="live-clock">--:--:--</div>
        <div style="width: 1px; height: 15px; background: var(--border);"></div>
        <div class="api-indicator">
          <span>API:</span> <div class="status-dot ok" id="api-dot"></div> <span id="api-text" style="color: var(--status-ok);">Online</span>
        </div>
      </div>
    </header>

    <section id="view-dashboard" class="view-section active">
      <div class="section-header">Statystyki MilkMi (App)</div>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon bg-orange"><i class="fas fa-users"></i></div><div class="stat-value">2,845</div><div class="stat-label">Wszystkich Użytkowników</div></div>
        <div class="stat-card"><div class="stat-icon bg-blue"><i class="fas fa-calendar-alt"></i></div><div class="stat-value">124</div><div class="stat-label">Aktywne Rezerwacje</div></div>
        <div class="stat-card"><div class="stat-icon bg-orange"><i class="fas fa-star"></i></div><div class="stat-value">845k</div><div class="stat-label">Wydanych Milkosów</div></div>
        <div class="stat-card"><div class="stat-icon bg-purple"><i class="fas fa-user-tag"></i></div><div class="stat-value">1,502</div><div class="stat-label">Użytkownicy z punktami</div></div>
        <div class="stat-card"><div class="stat-icon bg-green"><i class="fas fa-credit-card"></i></div><div class="stat-value">430</div><div class="stat-label">Aktywne karty Pre-paid</div></div>
        <div class="stat-card"><div class="stat-icon bg-green"><i class="fas fa-wallet"></i></div><div class="stat-value">32,450 zł</div><div class="stat-label">Środki na kontach</div></div>
      </div>
      
      <div class="section-header" style="margin-top:40px;">Statystyki MilkShakeBar (Web)</div>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon bg-blue"><i class="fas fa-eye"></i></div><div class="stat-value">1,205</div><div class="stat-label">Wyświetleń Menu (Dziś)</div></div>
        <div class="stat-card"><div class="stat-icon bg-orange"><i class="fas fa-laptop-house"></i></div><div class="stat-value">18</div><div class="stat-label">Rezerwacji przez WWW</div></div>
      </div>

      <div class="section-header" style="margin-top:40px;">Statystyki WorkMi (Internal)</div>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon bg-purple"><i class="fas fa-cubes"></i></div><div class="stat-value">4,120</div><div class="stat-label">Liczba Artykułów (Magazyn)</div></div>
        <div class="stat-card"><div class="stat-icon bg-red"><i class="fas fa-truck-loading"></i></div><div class="stat-value">5</div><div class="stat-label">Nadchodzące dostawy</div></div>
      </div>
    </section>

    <section id="view-points" class="view-section">
      <div class="card">
        <div class="section-header">Ostatnie transakcje punktowe</div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Użytkownik</th><th>Rodzaj operacji</th><th>Ilość punktów</th><th>Data</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td><div class="user-info"><div class="avatar">MK</div><div><strong>Mikołaj K.</strong><br><small>App User</small></div></div></td>
                <td>Zamówienie (Shake Oreo)</td>
                <td style="color: var(--status-ok); font-weight:700;">+ 120 pkt</td>
                <td>13.02.2026, 14:30</td>
                <td><span class="badge green">Naliczone</span></td>
              </tr>
              <tr>
                <td><div class="user-info"><div class="avatar">AD</div><div><strong>Anna D.</strong><br><small>App User</small></div></div></td>
                <td>Odbiór nagrody (Kawa)</td>
                <td style="color: var(--status-err); font-weight:700;">- 500 pkt</td>
                <td>13.02.2026, 12:15</td>
                <td><span class="badge blue">Wykorzystane</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-reservations" class="view-section">
      <div class="card">
        <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
          <div class="section-header" style="margin:0">Lista rezerwacji</div>
          <button class="btn btn-primary"><i class="fas fa-plus"></i> Dodaj ręcznie</button>
        </div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Klient</th><th>Data i Godzina</th><th>Liczba osób</th><th>Strefa</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td><strong>Jan Kowalski</strong><br>+48 500 600 700</td>
                <td>Dziś, 18:00</td>
                <td>4 osoby</td>
                <td>Sala Główna</td>
                <td><span class="badge orange">Oczekuje</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-orders" class="view-section">
      <div class="stats-grid" style="margin-bottom:20px;">
        <div class="stat-card" style="padding:15px; background:var(--bg-body); border:none;"><div class="stat-value">5</div><div class="stat-label">Nowych</div></div>
        <div class="stat-card" style="padding:15px; background:var(--bg-body); border:none;"><div class="stat-value">12</div><div class="stat-label">W realizacji</div></div>
        <div class="stat-card" style="padding:15px; background:var(--bg-body); border:none;"><div class="stat-value">45</div><div class="stat-label">Zakończonych</div></div>
      </div>
      <div class="card">
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>ID</th><th>Klient</th><th>Zamówienie</th><th>Kwota</th><th>Typ</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td>#8829</td>
                <td>Mikołaj K.</td>
                <td>2x Pancake Tower</td>
                <td>65.00 PLN</td>
                <td><i class="fas fa-store"></i> Odbiór</td>
                <td><span class="badge orange">W kuchni</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-prepaid" class="view-section">
      <div class="card">
        <div class="section-header">Wirtualne portfele</div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Numer karty</th><th>Właściciel</th><th>Saldo</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td style="font-family:monospace;">**** 8829</td>
                <td>Mikołaj (App)</td>
                <td style="font-weight:800; color:var(--primary);">45.50 PLN</td>
                <td><span class="badge green">Aktywna</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-users" class="view-section">
      <div class="card">
        <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
          <input type="text" class="form-control" placeholder="Szukaj użytkownika..." style="max-width:300px;">
        </div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Użytkownik</th><th>Email</th><th>Telefon</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td><div class="user-info"><div class="avatar">MK</div><strong>Mikołaj</strong></div></td>
                <td>mikolaj@example.com</td>
                <td>+48 123 456 789</td>
                <td><span class="badge green">Aktywny</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-push" class="view-section">
      <div class="card" style="max-width:600px;">
        <div class="section-header">Wyślij powiadomienie</div>
        <div class="form-group">
          <label>Tytuł</label>
          <input type="text" class="form-control" placeholder="np. Promocja!">
        </div>
        <div class="form-group">
          <label>Treść</label>
          <textarea class="form-control" rows="4"></textarea>
        </div>
        <button class="btn btn-primary" onclick="alert('Wysłano!')"><i class="fas fa-paper-plane"></i> Wyślij PUSH</button>
      </div>
    </section>

    <section id="view-app-bar" class="view-section">
      <div class="card">
        <div class="section-header">Baner w Aplikacji</div>
        <div class="form-group"><label>Tytuł</label><input type="text" class="form-control" value="Eatmi - Zamów z dowozem"></div>
        <button class="btn btn-primary">Zapisz zmiany</button>
      </div>
    </section>

    <section id="view-web-bar" class="view-section">
      <div class="card">
        <div class="section-header">Pasek na stronie WWW</div>
        <div class="form-group"><label>Treść</label><input type="text" class="form-control" value="Dziś darmowa dostawa!"></div>
        <button class="btn btn-primary">Aktualizuj</button>
      </div>
    </section>

    <section id="view-menu" class="view-section">
      <div class="section-header">Zarządzanie Menu</div>
      <div class="stats-grid">
        <div class="stat-card">
          <h3 style="margin-bottom:5px;">Oreo Dream</h3>
          <p style="color:var(--text-sub);">19.00 PLN</p>
        </div>
      </div>
    </section>

    <section id="view-newsletter" class="view-section">
      <div class="card">
        <div class="section-header">Baza subskrybentów</div>
        <p style="color:var(--text-sub);">Liczba aktywnych: 540</p>
      </div>
    </section>

    <section id="view-team" class="view-section">
      <div class="card">
        <div class="section-header">Pracownicy</div>
        <table class="data-table">
          <thead><tr><th>Osoba</th><th>Rola</th><th>Dostęp</th></tr></thead>
          <tbody>
            <tr><td>Admin Główny</td><td>Właściciel</td><td><span class="badge green">Pełny</span></td></tr>
          </tbody>
        </table>
      </div>
    </section>

    <section id="view-work-system" class="view-section">
      <div class="section-header">Status Systemów WorkMi</div>
      <div class="stats-grid">
        <div class="stat-card">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <h3>Główny POS</h3>
            <div class="status-dot ok" style="width:15px; height:15px;"></div>
          </div>
          <p style="color:var(--text-sub); font-size:0.9rem;">Wersja: 2.4.0<br>Uptime: 48h</p>
        </div>
        <div class="stat-card">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <h3>Drukarka Kuchnia</h3>
            <div class="status-dot ok" style="width:15px; height:15px;"></div>
          </div>
          <p style="color:var(--text-sub); font-size:0.9rem;">Papier: 80%<br>Połączenie: LAN</p>
        </div>
        <div class="stat-card">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <h3>Tablet (Sala)</h3>
            <div class="status-dot error" style="width:15px; height:15px;"></div>
          </div>
          <p style="color:var(--status-err); font-size:0.9rem;">Brak połączenia!<br>Bateria: 5%</p>
        </div>
      </div>
    </section>

    <section id="view-work-products" class="view-section">
      <div class="card">
        <div class="section-header">Stany Magazynowe (Artykuły)</div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Artykuł</th><th>Kategoria</th><th>Ilość w mag.</th><th>Jednostka</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td>Mleko 3.2%</td>
                <td>Nabiał</td>
                <td>120</td>
                <td>Szt. (1L)</td>
                <td><span class="badge green">OK</span></td>
              </tr>
              <tr>
                <td>Syrop Waniliowy</td>
                <td>Dodatki</td>
                <td>2</td>
                <td>Butelka (700ml)</td>
                <td><span class="badge red">Krytyczny</span></td>
              </tr>
              <tr>
                <td>Kubki 300ml (Logo)</td>
                <td>Opakowania</td>
                <td>5000</td>
                <td>Szt.</td>
                <td><span class="badge green">OK</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-work-time" class="view-section">
      <div class="card">
        <div class="section-header">Rejestr Czasu Pracy (Dziś)</div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Pracownik</th><th>Start</th><th>Koniec</th><th>Suma godzin</th><th>Status</th></tr></thead>
            <tbody>
              <tr>
                <td><div class="user-info"><div class="avatar bg-blue">K</div><strong>Kasia B.</strong></div></td>
                <td>08:00</td>
                <td>16:00</td>
                <td>8h 00m</td>
                <td><span class="badge green">Zakończono</span></td>
              </tr>
              <tr>
                <td><div class="user-info"><div class="avatar">B</div><strong>Barista #2</strong></div></td>
                <td>12:00</td>
                <td>--:--</td>
                <td>(W trakcie)</td>
                <td><span class="badge orange">W pracy</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-work-costs" class="view-section">
      <div class="stats-grid" style="margin-bottom:20px;">
        <div class="stat-card">
          <div class="stat-icon bg-red"><i class="fas fa-coins"></i></div>
          <div class="stat-value">12,400 zł</div>
          <div class="stat-label">Koszt wynagrodzeń (Bieżący msc.)</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon bg-blue"><i class="fas fa-chart-line"></i></div>
          <div class="stat-value">18.5%</div>
          <div class="stat-label">% Utargu na wypłaty</div>
        </div>
      </div>
      <div class="card">
        <div class="section-header">Raport kosztowy (Luty 2026)</div>
        <div class="table-container">
          <table class="data-table">
            <thead><tr><th>Pracownik</th><th>Stawka/h</th><th>Godziny</th><th>Premie</th><th>Suma do wypłaty</th></tr></thead>
            <tbody>
              <tr>
                <td>Kasia B. (Manager)</td>
                <td>35.00 PLN</td>
                <td>120h</td>
                <td>+ 500 PLN</td>
                <td style="font-weight:700;">4,700.00 PLN</td>
              </tr>
              <tr>
                <td>Barista #1</td>
                <td>28.00 PLN</td>
                <td>140h</td>
                <td>0 PLN</td>
                <td style="font-weight:700;">3,920.00 PLN</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="view-dev" class="view-section">
      <div class="card" style="max-width:600px; margin: 0 auto; text-align:center;">
        <div class="stat-icon bg-purple" style="margin: 0 auto 20px;"><i class="fas fa-code"></i></div>
        <h2 style="margin-bottom:10px;">Support Techniczny</h2>
        <div class="form-group" style="text-align:left;">
          <label>Wiadomość</label>
          <textarea class="form-control" rows="5"></textarea>
        </div>
        <button class="btn btn-primary" style="width:100%; justify-content:center;">Wyślij zgłoszenie</button>
      </div>
    </section>

  </main>

  <button class="theme-toggle" onclick="toggleAdminTheme()">
    <i class="fas fa-adjust"></i>
  </button>

  <script>
    // --- LIVE CLOCK ---
    function updateClock() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      document.getElementById('live-clock').innerText = `${hours}:${minutes}:${seconds}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // --- NAVIGATION LOGIC ---
    function switchView(viewId, navElement) {
      // 1. Hide all sections
      document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
      
      // 2. Show target section
      document.getElementById('view-' + viewId).classList.add('active');
      
      // 3. Update Sidebar Active State
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
      if(navElement) navElement.classList.add('active');

      // 4. Update Header Title
      const titles = {
        'dashboard': 'Dashboard',
        'points': 'Punkty (Milkosy)',
        'reservations': 'Rezerwacje',
        'orders': 'Zamówienia',
        'prepaid': 'Pre-paid',
        'users': 'Użytkownicy',
        'push': 'Powiadomienia Push',
        'app-bar': 'Pasek w Aplikacji',
        'web-bar': 'Pasek na WWW',
        'menu': 'Edycja Menu',
        'newsletter': 'Newsletter',
        'team': 'Zespół',
        'work-system': 'WorkMi: Status Systemu',
        'work-products': 'WorkMi: Magazyn',
        'work-time': 'WorkMi: Czas Pracy',
        'work-costs': 'WorkMi: Koszta Pracowników',
        'dev': 'Kontakt z Developerem'
      };
      document.getElementById('page-title').innerText = titles[viewId] || 'Panel';
    }

    // --- THEME TOGGLE ---
    function toggleAdminTheme() {
      document.body.classList.toggle('dark-mode');
    }
  </script>

</body>
</html>
